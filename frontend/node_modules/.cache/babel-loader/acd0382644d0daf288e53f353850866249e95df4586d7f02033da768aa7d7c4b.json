{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Coding\\\\LMS\\\\frontend\\\\src\\\\pages\\\\LessonDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link as RouterLink, useParams, useNavigate } from 'react-router-dom';\nimport { Box, Button, Card, CardContent, CircularProgress, Container, Divider, Grid, IconButton, LinearProgress, List, ListItem, ListItemIcon, ListItemText, Paper, Typography, useTheme, Drawer, useMediaQuery, Alert } from '@mui/material';\nimport { ArrowBack as ArrowBackIcon, ArrowForward as ArrowForwardIcon, PlayCircleFilled as PlayCircleFilledIcon, Assignment as AssignmentIcon, MenuBook as MenuBookIcon, CheckCircle as CheckCircleIcon, ExpandMore as ExpandMoreIcon, ChevronLeft as ChevronLeftIcon, ChevronRight as ChevronRightIcon, Edit as EditIcon } from '@mui/icons-material';\nimport AuthContext from '../contexts/AuthContext';\nimport { getLessonById } from '../services/lessonService';\nimport { getCourseById } from '../services/courseService';\nimport { getAssignments } from '../services/assignmentService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LessonDetail = () => {\n  _s();\n  var _course$instructor;\n  const theme = useTheme();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user,\n    isAuthenticated\n  } = useContext(AuthContext);\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const [lesson, setLesson] = useState(null);\n  const [course, setCourse] = useState(null);\n  const [courseLessons, setCourseLessons] = useState([]);\n  const [assignments, setAssignments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [sidebarOpen, setSidebarOpen] = useState(!isMobile);\n  const [progress, setProgress] = useState(0);\n  const [currentLessonIndex, setCurrentLessonIndex] = useState(0);\n  const sidebarWidth = 320;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Get the lesson data\n        const lessonResponse = await getLessonById(id);\n        const lessonData = lessonResponse.data.lesson;\n        setLesson(lessonData);\n\n        // Get the course data\n        const courseResponse = await getCourseById(lessonData.course._id);\n        const courseData = courseResponse.data.course;\n        setCourse(courseData);\n\n        // Sort lessons by order\n        const sortedLessons = courseData.lessons.sort((a, b) => a.order - b.order);\n        setCourseLessons(sortedLessons);\n\n        // Find current lesson index\n        const index = sortedLessons.findIndex(l => l._id === id);\n        setCurrentLessonIndex(index !== -1 ? index : 0);\n\n        // Get assignments for this lesson\n        const assignmentsResponse = await getAssignments({\n          lesson: id\n        });\n        setAssignments(assignmentsResponse.data.assignments);\n\n        // Calculate progress\n        if (courseData.enrollments && user) {\n          const userEnrollment = courseData.enrollments.find(enrollment => enrollment.user === user._id);\n          if (userEnrollment) {\n            setProgress(userEnrollment.progress);\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching lesson data:', error);\n        setError('Failed to load lesson content. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (isAuthenticated) {\n      fetchData();\n    } else {\n      navigate('/login', {\n        state: {\n          from: `/lessons/${id}`\n        }\n      });\n    }\n  }, [id, isAuthenticated, user, navigate]);\n  const toggleSidebar = () => {\n    setSidebarOpen(!sidebarOpen);\n  };\n  const handleNextLesson = () => {\n    if (currentLessonIndex < courseLessons.length - 1) {\n      navigate(`/lessons/${courseLessons[currentLessonIndex + 1]._id}`);\n    }\n  };\n  const handlePreviousLesson = () => {\n    if (currentLessonIndex > 0) {\n      navigate(`/lessons/${courseLessons[currentLessonIndex - 1]._id}`);\n    }\n  };\n\n  // Determine if this is an instructor or student view\n  const isInstructor = (course === null || course === void 0 ? void 0 : (_course$instructor = course.instructor) === null || _course$instructor === void 0 ? void 0 : _course$instructor._id) === (user === null || user === void 0 ? void 0 : user._id);\n  const isAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'admin';\n  const canEdit = isInstructor || isAdmin;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '60vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mt: 4\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this);\n  }\n  if (!lesson || !course) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"warning\",\n        sx: {\n          mt: 4\n        },\n        children: \"Lesson not found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      bgcolor: theme.palette.background.default\n    },\n    children: [/*#__PURE__*/_jsxDEV(Drawer, {\n      variant: isMobile ? 'temporary' : 'persistent',\n      open: sidebarOpen,\n      onClose: toggleSidebar,\n      sx: {\n        width: sidebarWidth,\n        flexShrink: 0,\n        '& .MuiDrawer-paper': {\n          width: sidebarWidth,\n          boxSizing: 'border-box',\n          position: 'relative',\n          height: '100%',\n          border: 'none',\n          borderRight: `1px solid ${theme.palette.divider}`\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 2,\n          borderBottom: `1px solid ${theme.palette.divider}`\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"h2\",\n            fontWeight: 600,\n            children: \"Course Content\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), isMobile && /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: toggleSidebar,\n            children: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          gutterBottom: true,\n          children: course.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LinearProgress, {\n          variant: \"determinate\",\n          value: progress,\n          sx: {\n            height: 6,\n            borderRadius: 3,\n            mt: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          sx: {\n            mt: 0.5,\n            textAlign: 'right'\n          },\n          children: [progress, \"% complete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        sx: {\n          py: 0\n        },\n        children: courseLessons.map((courseLesson, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(ListItem, {\n            button: true,\n            component: RouterLink,\n            to: `/lessons/${courseLesson._id}`,\n            selected: courseLesson._id === lesson._id,\n            sx: {\n              py: 2,\n              bgcolor: courseLesson._id === lesson._id ? 'action.selected' : 'inherit',\n              '&.Mui-selected': {\n                bgcolor: 'action.selected',\n                borderLeft: `4px solid ${theme.palette.primary.main}`\n              },\n              borderLeft: courseLesson._id === lesson._id ? `4px solid ${theme.palette.primary.main}` : '4px solid transparent'\n            },\n            children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n              children: courseLesson._id === lesson._id ? /*#__PURE__*/_jsxDEV(PlayCircleFilledIcon, {\n                color: \"primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(PlayCircleFilledIcon, {\n                color: \"action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: `${index + 1}. ${courseLesson.title}`,\n              primaryTypographyProps: {\n                fontWeight: courseLesson._id === lesson._id ? 600 : 400\n              },\n              secondary: `${courseLesson.duration || 0} min`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), index < courseLessons.length - 1 && /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 52\n          }, this)]\n        }, courseLesson._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"main\",\n      sx: {\n        flexGrow: 1,\n        p: 3,\n        transition: theme.transitions.create('margin', {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.leavingScreen\n        }),\n        ...(sidebarOpen && !isMobile && {\n          marginLeft: `${sidebarWidth}px`,\n          transition: theme.transitions.create('margin', {\n            easing: theme.transitions.easing.easeOut,\n            duration: theme.transitions.duration.enteringScreen\n          })\n        })\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [isMobile && /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: toggleSidebar,\n            sx: {\n              mr: 1\n            },\n            children: sidebarOpen ? /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 32\n            }, this) : /*#__PURE__*/_jsxDEV(ChevronRightIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            component: RouterLink,\n            to: `/courses/${course._id}`,\n            startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 26\n            }, this),\n            sx: {\n              mr: 2\n            },\n            children: \"Back to Course\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            disabled: currentLessonIndex === 0,\n            onClick: handlePreviousLesson,\n            startIcon: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 26\n            }, this),\n            sx: {\n              mr: 1\n            },\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            disabled: currentLessonIndex === courseLessons.length - 1,\n            onClick: handleNextLesson,\n            endIcon: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 24\n            }, this),\n            variant: \"contained\",\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 3,\n          borderRadius: 2,\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start',\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            component: \"h1\",\n            fontWeight: 600,\n            children: lesson.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), canEdit && /*#__PURE__*/_jsxDEV(Button, {\n            startIcon: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 28\n            }, this),\n            component: RouterLink,\n            to: `/lessons/${lesson._id}/edit`,\n            variant: \"outlined\",\n            children: \"Edit Lesson\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), lesson.videoUrl && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            position: 'relative',\n            pt: '56.25%',\n            mb: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n            src: lesson.videoUrl,\n            title: lesson.title,\n            style: {\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              width: '100%',\n              height: '100%',\n              border: 'none',\n              borderRadius: theme.shape.borderRadius\n            },\n            allowFullScreen: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          sx: {\n            mb: 3,\n            lineHeight: 1.8\n          },\n          children: lesson.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), lesson.attachments && lesson.attachments.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            fontWeight: 600,\n            children: \"Attachments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            children: lesson.attachments.map((attachment, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: /*#__PURE__*/_jsxDEV(MenuBookIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: attachment.name,\n                secondary: attachment.fileType\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                href: attachment.fileUrl,\n                target: \"_blank\",\n                download: true,\n                variant: \"outlined\",\n                size: \"small\",\n                children: \"Download\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), assignments.length > 0 && /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          p: 3,\n          borderRadius: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          component: \"h2\",\n          gutterBottom: true,\n          fontWeight: 600,\n          children: \"Assignments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: assignments.map(assignment => /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 6,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                height: '100%',\n                transition: 'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out',\n                '&:hover': {\n                  transform: 'translateY(-5px)',\n                  boxShadow: '0 10px 20px rgba(0,0,0,0.1)'\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    mb: 2\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(AssignmentIcon, {\n                    color: \"primary\",\n                    sx: {\n                      mr: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h6\",\n                    component: \"h3\",\n                    children: assignment.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  color: \"text.secondary\",\n                  sx: {\n                    mb: 2\n                  },\n                  children: [assignment.description.substring(0, 120), \"...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'space-between'\n                  },\n                  children: [assignment.dueDate && /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    color: \"text.secondary\",\n                    children: [\"Due: \", new Date(assignment.dueDate).toLocaleDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    component: RouterLink,\n                    to: `/assignments/${assignment._id}`,\n                    variant: \"contained\",\n                    size: \"small\",\n                    children: \"View Assignment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 19\n            }, this)\n          }, assignment._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          mt: 4,\n          pt: 2,\n          borderTop: `1px solid ${theme.palette.divider}`\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          disabled: currentLessonIndex === 0,\n          onClick: handlePreviousLesson,\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 24\n          }, this),\n          variant: \"outlined\",\n          children: \"Previous Lesson\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: currentLessonIndex === courseLessons.length - 1,\n          onClick: handleNextLesson,\n          endIcon: /*#__PURE__*/_jsxDEV(ArrowForwardIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 22\n          }, this),\n          variant: \"contained\",\n          children: \"Next Lesson\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n};\n_s(LessonDetail, \"BzKQNmeK18ucY4hqpWTEV1c0ro0=\", false, function () {\n  return [useTheme, useParams, useNavigate, useMediaQuery];\n});\n_c = LessonDetail;\nexport default LessonDetail;\nvar _c;\n$RefreshReg$(_c, \"LessonDetail\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Link","RouterLink","useParams","useNavigate","Box","Button","Card","CardContent","CircularProgress","Container","Divider","Grid","IconButton","LinearProgress","List","ListItem","ListItemIcon","ListItemText","Paper","Typography","useTheme","Drawer","useMediaQuery","Alert","ArrowBack","ArrowBackIcon","ArrowForward","ArrowForwardIcon","PlayCircleFilled","PlayCircleFilledIcon","Assignment","AssignmentIcon","MenuBook","MenuBookIcon","CheckCircle","CheckCircleIcon","ExpandMore","ExpandMoreIcon","ChevronLeft","ChevronLeftIcon","ChevronRight","ChevronRightIcon","Edit","EditIcon","AuthContext","getLessonById","getCourseById","getAssignments","jsxDEV","_jsxDEV","LessonDetail","_s","_course$instructor","theme","id","navigate","user","isAuthenticated","isMobile","breakpoints","down","lesson","setLesson","course","setCourse","courseLessons","setCourseLessons","assignments","setAssignments","loading","setLoading","error","setError","sidebarOpen","setSidebarOpen","progress","setProgress","currentLessonIndex","setCurrentLessonIndex","sidebarWidth","fetchData","lessonResponse","lessonData","data","courseResponse","_id","courseData","sortedLessons","lessons","sort","a","b","order","index","findIndex","l","assignmentsResponse","enrollments","userEnrollment","find","enrollment","console","state","from","toggleSidebar","handleNextLesson","length","handlePreviousLesson","isInstructor","instructor","isAdmin","role","canEdit","sx","display","justifyContent","alignItems","height","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","severity","mt","bgcolor","palette","background","default","variant","open","onClose","width","flexShrink","boxSizing","position","border","borderRight","divider","p","borderBottom","mb","component","fontWeight","onClick","color","gutterBottom","title","value","borderRadius","textAlign","py","map","courseLesson","Fragment","button","to","selected","borderLeft","primary","main","primaryTypographyProps","secondary","duration","flexGrow","transition","transitions","create","easing","sharp","leavingScreen","marginLeft","easeOut","enteringScreen","mr","startIcon","disabled","endIcon","videoUrl","pt","src","style","top","left","shape","allowFullScreen","lineHeight","content","attachments","attachment","name","fileType","href","fileUrl","target","download","size","container","spacing","assignment","item","xs","md","transform","boxShadow","description","substring","dueDate","Date","toLocaleDateString","borderTop","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/Coding/LMS/frontend/src/pages/LessonDetail.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link as RouterLink, useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CircularProgress,\r\n  Container,\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  LinearProgress,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Paper,\r\n  Typography,\r\n  useTheme,\r\n  Drawer,\r\n  useMediaQuery,\r\n  Alert\r\n} from '@mui/material';\r\nimport {\r\n  ArrowBack as ArrowBackIcon,\r\n  ArrowForward as ArrowForwardIcon,\r\n  PlayCircleFilled as PlayCircleFilledIcon,\r\n  Assignment as AssignmentIcon,\r\n  MenuBook as MenuBookIcon,\r\n  CheckCircle as CheckCircleIcon,\r\n  ExpandMore as ExpandMoreIcon,\r\n  ChevronLeft as ChevronLeftIcon,\r\n  ChevronRight as ChevronRightIcon,\r\n  Edit as EditIcon\r\n} from '@mui/icons-material';\r\nimport AuthContext from '../contexts/AuthContext';\r\nimport { getLessonById } from '../services/lessonService';\r\nimport { getCourseById } from '../services/courseService';\r\nimport { getAssignments } from '../services/assignmentService';\r\n\r\nconst LessonDetail = () => {\r\n  const theme = useTheme();\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user, isAuthenticated } = useContext(AuthContext);\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\r\n  \r\n  const [lesson, setLesson] = useState(null);\r\n  const [course, setCourse] = useState(null);\r\n  const [courseLessons, setCourseLessons] = useState([]);\r\n  const [assignments, setAssignments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [sidebarOpen, setSidebarOpen] = useState(!isMobile);\r\n  const [progress, setProgress] = useState(0);\r\n  const [currentLessonIndex, setCurrentLessonIndex] = useState(0);\r\n\r\n  const sidebarWidth = 320;\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Get the lesson data\r\n        const lessonResponse = await getLessonById(id);\r\n        const lessonData = lessonResponse.data.lesson;\r\n        setLesson(lessonData);\r\n        \r\n        // Get the course data\r\n        const courseResponse = await getCourseById(lessonData.course._id);\r\n        const courseData = courseResponse.data.course;\r\n        setCourse(courseData);\r\n        \r\n        // Sort lessons by order\r\n        const sortedLessons = courseData.lessons.sort((a, b) => a.order - b.order);\r\n        setCourseLessons(sortedLessons);\r\n        \r\n        // Find current lesson index\r\n        const index = sortedLessons.findIndex(l => l._id === id);\r\n        setCurrentLessonIndex(index !== -1 ? index : 0);\r\n        \r\n        // Get assignments for this lesson\r\n        const assignmentsResponse = await getAssignments({ lesson: id });\r\n        setAssignments(assignmentsResponse.data.assignments);\r\n        \r\n        // Calculate progress\r\n        if (courseData.enrollments && user) {\r\n          const userEnrollment = courseData.enrollments.find(\r\n            enrollment => enrollment.user === user._id\r\n          );\r\n          \r\n          if (userEnrollment) {\r\n            setProgress(userEnrollment.progress);\r\n          }\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error('Error fetching lesson data:', error);\r\n        setError('Failed to load lesson content. Please try again later.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (isAuthenticated) {\r\n      fetchData();\r\n    } else {\r\n      navigate('/login', { state: { from: `/lessons/${id}` } });\r\n    }\r\n  }, [id, isAuthenticated, user, navigate]);\r\n\r\n  const toggleSidebar = () => {\r\n    setSidebarOpen(!sidebarOpen);\r\n  };\r\n\r\n  const handleNextLesson = () => {\r\n    if (currentLessonIndex < courseLessons.length - 1) {\r\n      navigate(`/lessons/${courseLessons[currentLessonIndex + 1]._id}`);\r\n    }\r\n  };\r\n\r\n  const handlePreviousLesson = () => {\r\n    if (currentLessonIndex > 0) {\r\n      navigate(`/lessons/${courseLessons[currentLessonIndex - 1]._id}`);\r\n    }\r\n  };\r\n\r\n  // Determine if this is an instructor or student view\r\n  const isInstructor = course?.instructor?._id === user?._id;\r\n  const isAdmin = user?.role === 'admin';\r\n  const canEdit = isInstructor || isAdmin;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '60vh' }}>\r\n        <CircularProgress />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <Alert severity=\"error\" sx={{ mt: 4 }}>\r\n          {error}\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!lesson || !course) {\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <Alert severity=\"warning\" sx={{ mt: 4 }}>\r\n          Lesson not found.\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex', bgcolor: theme.palette.background.default }}>\r\n      {/* Course Content Sidebar */}\r\n      <Drawer\r\n        variant={isMobile ? 'temporary' : 'persistent'}\r\n        open={sidebarOpen}\r\n        onClose={toggleSidebar}\r\n        sx={{\r\n          width: sidebarWidth,\r\n          flexShrink: 0,\r\n          '& .MuiDrawer-paper': {\r\n            width: sidebarWidth,\r\n            boxSizing: 'border-box',\r\n            position: 'relative',\r\n            height: '100%',\r\n            border: 'none',\r\n            borderRight: `1px solid ${theme.palette.divider}`\r\n          },\r\n        }}\r\n      >\r\n        <Box sx={{ p: 2, borderBottom: `1px solid ${theme.palette.divider}` }}>\r\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 2 }}>\r\n            <Typography variant=\"h6\" component=\"h2\" fontWeight={600}>\r\n              Course Content\r\n            </Typography>\r\n            {isMobile && (\r\n              <IconButton onClick={toggleSidebar}>\r\n                <ChevronLeftIcon />\r\n              </IconButton>\r\n            )}\r\n          </Box>\r\n          \r\n          <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\r\n            {course.title}\r\n          </Typography>\r\n          \r\n          <LinearProgress \r\n            variant=\"determinate\" \r\n            value={progress} \r\n            sx={{ height: 6, borderRadius: 3, mt: 1 }}\r\n          />\r\n          <Typography variant=\"body2\" sx={{ mt: 0.5, textAlign: 'right' }}>\r\n            {progress}% complete\r\n          </Typography>\r\n        </Box>\r\n        \r\n        <List sx={{ py: 0 }}>\r\n          {courseLessons.map((courseLesson, index) => (\r\n            <React.Fragment key={courseLesson._id}>\r\n              <ListItem\r\n                button\r\n                component={RouterLink}\r\n                to={`/lessons/${courseLesson._id}`}\r\n                selected={courseLesson._id === lesson._id}\r\n                sx={{ \r\n                  py: 2,\r\n                  bgcolor: courseLesson._id === lesson._id ? 'action.selected' : 'inherit',\r\n                  '&.Mui-selected': {\r\n                    bgcolor: 'action.selected',\r\n                    borderLeft: `4px solid ${theme.palette.primary.main}`,\r\n                  },\r\n                  borderLeft: courseLesson._id === lesson._id ? \r\n                    `4px solid ${theme.palette.primary.main}` : \r\n                    '4px solid transparent',\r\n                }}\r\n              >\r\n                <ListItemIcon>\r\n                  {courseLesson._id === lesson._id ? (\r\n                    <PlayCircleFilledIcon color=\"primary\" />\r\n                  ) : (\r\n                    <PlayCircleFilledIcon color=\"action\" />\r\n                  )}\r\n                </ListItemIcon>\r\n                <ListItemText \r\n                  primary={`${index + 1}. ${courseLesson.title}`}\r\n                  primaryTypographyProps={{\r\n                    fontWeight: courseLesson._id === lesson._id ? 600 : 400\r\n                  }}\r\n                  secondary={`${courseLesson.duration || 0} min`}\r\n                />\r\n              </ListItem>\r\n              {index < courseLessons.length - 1 && <Divider />}\r\n            </React.Fragment>\r\n          ))}\r\n        </List>\r\n      </Drawer>\r\n\r\n      {/* Main Content */}\r\n      <Box \r\n        component=\"main\" \r\n        sx={{ \r\n          flexGrow: 1, \r\n          p: 3,\r\n          transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n          }),\r\n          ...(sidebarOpen && !isMobile && {\r\n            marginLeft: `${sidebarWidth}px`,\r\n            transition: theme.transitions.create('margin', {\r\n              easing: theme.transitions.easing.easeOut,\r\n              duration: theme.transitions.duration.enteringScreen,\r\n            }),\r\n          }),\r\n        }}\r\n      >\r\n        {/* Top Navigation Bar */}\r\n        <Box \r\n          sx={{ \r\n            display: 'flex', \r\n            alignItems: 'center', \r\n            justifyContent: 'space-between',\r\n            mb: 3\r\n          }}\r\n        >\r\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n            {isMobile && (\r\n              <IconButton onClick={toggleSidebar} sx={{ mr: 1 }}>\r\n                {sidebarOpen ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n              </IconButton>\r\n            )}\r\n            <Button\r\n              component={RouterLink}\r\n              to={`/courses/${course._id}`}\r\n              startIcon={<ArrowBackIcon />}\r\n              sx={{ mr: 2 }}\r\n            >\r\n              Back to Course\r\n            </Button>\r\n          </Box>\r\n          \r\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n            <Button\r\n              disabled={currentLessonIndex === 0}\r\n              onClick={handlePreviousLesson}\r\n              startIcon={<ChevronLeftIcon />}\r\n              sx={{ mr: 1 }}\r\n            >\r\n              Previous\r\n            </Button>\r\n            <Button\r\n              disabled={currentLessonIndex === courseLessons.length - 1}\r\n              onClick={handleNextLesson}\r\n              endIcon={<ChevronRightIcon />}\r\n              variant=\"contained\"\r\n            >\r\n              Next\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Lesson Content */}\r\n        <Paper sx={{ p: 3, borderRadius: 2, mb: 3 }}>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\r\n            <Typography variant=\"h4\" component=\"h1\" fontWeight={600}>\r\n              {lesson.title}\r\n            </Typography>\r\n            \r\n            {canEdit && (\r\n              <Button\r\n                startIcon={<EditIcon />}\r\n                component={RouterLink}\r\n                to={`/lessons/${lesson._id}/edit`}\r\n                variant=\"outlined\"\r\n              >\r\n                Edit Lesson\r\n              </Button>\r\n            )}\r\n          </Box>\r\n          \r\n          {lesson.videoUrl && (\r\n            <Box sx={{ position: 'relative', pt: '56.25%', mb: 3 }}>\r\n              <iframe\r\n                src={lesson.videoUrl}\r\n                title={lesson.title}\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: 0,\r\n                  left: 0,\r\n                  width: '100%',\r\n                  height: '100%',\r\n                  border: 'none',\r\n                  borderRadius: theme.shape.borderRadius\r\n                }}\r\n                allowFullScreen\r\n              />\r\n            </Box>\r\n          )}\r\n          \r\n          <Typography variant=\"body1\" sx={{ mb: 3, lineHeight: 1.8 }}>\r\n            {lesson.content}\r\n          </Typography>\r\n          \r\n          {lesson.attachments && lesson.attachments.length > 0 && (\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"h6\" gutterBottom fontWeight={600}>\r\n                Attachments\r\n              </Typography>\r\n              <List>\r\n                {lesson.attachments.map((attachment, index) => (\r\n                  <ListItem key={index}>\r\n                    <ListItemIcon>\r\n                      <MenuBookIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText \r\n                      primary={attachment.name} \r\n                      secondary={attachment.fileType} \r\n                    />\r\n                    <Button\r\n                      href={attachment.fileUrl}\r\n                      target=\"_blank\"\r\n                      download\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                    >\r\n                      Download\r\n                    </Button>\r\n                  </ListItem>\r\n                ))}\r\n              </List>\r\n            </Box>\r\n          )}\r\n        </Paper>\r\n        \r\n        {/* Related Assignments */}\r\n        {assignments.length > 0 && (\r\n          <Paper sx={{ p: 3, borderRadius: 2 }}>\r\n            <Typography variant=\"h5\" component=\"h2\" gutterBottom fontWeight={600}>\r\n              Assignments\r\n            </Typography>\r\n            \r\n            <Grid container spacing={3}>\r\n              {assignments.map((assignment) => (\r\n                <Grid item xs={12} md={6} key={assignment._id}>\r\n                  <Card\r\n                    sx={{\r\n                      height: '100%',\r\n                      transition: 'transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out',\r\n                      '&:hover': {\r\n                        transform: 'translateY(-5px)',\r\n                        boxShadow: '0 10px 20px rgba(0,0,0,0.1)'\r\n                      }\r\n                    }}\r\n                  >\r\n                    <CardContent>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                        <AssignmentIcon color=\"primary\" sx={{ mr: 1 }} />\r\n                        <Typography variant=\"h6\" component=\"h3\">\r\n                          {assignment.title}\r\n                        </Typography>\r\n                      </Box>\r\n                      \r\n                      <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                        {assignment.description.substring(0, 120)}...\r\n                      </Typography>\r\n                      \r\n                      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                        {assignment.dueDate && (\r\n                          <Typography variant=\"body2\" color=\"text.secondary\">\r\n                            Due: {new Date(assignment.dueDate).toLocaleDateString()}\r\n                          </Typography>\r\n                        )}\r\n                        \r\n                        <Button\r\n                          component={RouterLink}\r\n                          to={`/assignments/${assignment._id}`}\r\n                          variant=\"contained\"\r\n                          size=\"small\"\r\n                        >\r\n                          View Assignment\r\n                        </Button>\r\n                      </Box>\r\n                    </CardContent>\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n            </Grid>\r\n          </Paper>\r\n        )}\r\n        \r\n        {/* Navigation Buttons (Footer) */}\r\n        <Box \r\n          sx={{ \r\n            display: 'flex', \r\n            justifyContent: 'space-between',\r\n            mt: 4,\r\n            pt: 2,\r\n            borderTop: `1px solid ${theme.palette.divider}`\r\n          }}\r\n        >\r\n          <Button\r\n            disabled={currentLessonIndex === 0}\r\n            onClick={handlePreviousLesson}\r\n            startIcon={<ArrowBackIcon />}\r\n            variant=\"outlined\"\r\n          >\r\n            Previous Lesson\r\n          </Button>\r\n          \r\n          <Button\r\n            disabled={currentLessonIndex === courseLessons.length - 1}\r\n            onClick={handleNextLesson}\r\n            endIcon={<ArrowForwardIcon />}\r\n            variant=\"contained\"\r\n          >\r\n            Next Lesson\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default LessonDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}